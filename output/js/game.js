var Me=Object.defineProperty;var E=(o,n)=>Me(o,"name",{value:n,configurable:!0});var K=new THREE.Color().setHex(8900331),pe=-100,He=-100,v=500,F=50*Math.PI/180,Y=20*Math.PI/180,Se=10*Math.PI/180,Z=-Math.tan(F)*500,xe=Math.tan(Y)*Math.sqrt(500**2+Z**2),u=Object.freeze({DIR_LIGHT:{POSITION:{X:pe,Y:He},SHADOW:{CAMERA:{LEFT:-v,RIGHT:v,TOP:v,BOTTON:-v}}},CAMERA:{ROTATION:{X:F,Y,Z:Se},POSITION:{X:xe,Y:Z}}}),c=15,d=42,U=3;var W=d*U,h=42;var X=[20,45,60];function g(){let o=new THREE.Group,r=E(t=>new THREE.Mesh(new THREE.BoxBufferGeometry(h*2,d*2),new THREE.MeshPhongMaterial({color:t})),"createSection")(12252245);return r.receiveShadow=!0,o.add(r),o.position.z=1.5*2,o}E(g,"GrassTile");function H(){let o=new THREE.Group,r=E(t=>new THREE.Mesh(new THREE.BoxBufferGeometry(h*2,d*2),new THREE.MeshPhongMaterial({color:t})),"createSection")(4541017);return r.receiveShadow=!0,o.add(r),o.position.z=1.5*2,o}E(H,"RoadTile");function V(){let o=new THREE.Group,r=E(t=>new THREE.Mesh(new THREE.BoxBufferGeometry(h*2,d*2),new THREE.MeshPhongMaterial({color:t})),"createSection")(33023);return r.receiveShadow=!0,o.add(r),o.position.z=1.5*2,o}E(V,"WaterTile");function j(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(15*2,15*2,20*2),new THREE.MeshPhongMaterial({color:5056806,flatShading:!0}));n.position.z=10*2,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=X[Math.floor(Math.random()*X.length)],t=new THREE.Mesh(new THREE.BoxBufferGeometry(30*2,30*2,r*2),new THREE.MeshLambertMaterial({color:8036893,flatShading:!0}));return t.position.z=(r/2+20)*2,t.castShadow=!0,t.receiveShadow=!1,o.add(t),o}E(j,"ThreeTile");function q(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.IcosahedronGeometry(15*2,1),new THREE.MeshPhongMaterial({color:8421504,flatShading:!0}));return n.castShadow=!0,n.receiveShadow=!0,o.add(n),o}E(q,"RockTile");function J(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(5*2,5*2,80*2),new THREE.MeshPhongMaterial({color:8421504,flatShading:!0}));n.position.z=40*2,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(130*2,5*2,80*2),new THREE.MeshPhongMaterial({color:8421504,flatShading:!0}));return r.position.z=120*2,r.castShadow=!0,r.receiveShadow=!0,o.add(r),o}E(J,"CVBoard");var Q=[10822947,12432952,7909707],me=new L(40,80,[{x:0,y:10,w:30,h:60}]),Be=new L(40,80,[{x:10,y:10,w:30,h:60}]),Oe=new L(110,40,[{x:10,y:0,w:50,h:30},{x:70,y:0,w:30,h:30}]),ge=new L(110,40,[{x:10,y:10,w:50,h:30},{x:70,y:10,w:30,h:30}]),ze=new L(30,30,[{x:15,y:0,w:10,h:30}]),ke=new L(25,30,[{x:0,y:15,w:10,h:10}]),Ke=new L(25,30,[{x:0,y:5,w:10,h:10}]);function ee(){let o=new THREE.Group,n=Q[Math.floor(Math.random()*Q.length)],r=new THREE.Mesh(new THREE.BoxBufferGeometry(60*2,30*2,15*2),new THREE.MeshPhongMaterial({color:n,flatShading:!0}));r.position.z=12*2,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(33*2,24*2,12*2),[new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:Be}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:me}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:Oe}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:ge}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0})]);t.position.x=6*2,t.position.z=25.5*2,t.castShadow=!0,t.receiveShadow=!0,o.add(t);let i=new $;i.position.x=-18*2,o.add(i);let s=new $;return s.position.x=18*2,o.add(s),o.castShadow=!0,o.receiveShadow=!1,o}E(ee,"Car");function $(){let o=new THREE.Mesh(new THREE.BoxBufferGeometry(12*2,33*2,12*2),new THREE.MeshLambertMaterial({color:3355443,flatShading:!0}));return o.position.z=6*2,o}E($,"Wheel");function L(o,n,r){let t=document.createElement("canvas");t.width=o,t.height=n;let i=t.getContext("2d");return i.fillStyle="#ffffff",i.fillRect(0,0,o,n),i.fillStyle="rgba(0,0,0,0.6)",r.forEach(s=>{i.fillRect(s.x,s.y,s.w,s.h)}),new THREE.CanvasTexture(t)}E(L,"Texture");var T={GRASS:0,ROAD:1,THREE:2,ROCK:3,OCCUPIED:4,WATER:5,VEHICLE:6,TEST:7,TOURBUILDING:8,BOARD:9,LUBTRAC_CONTAINNER:10,LUBTRAC_BOARD:11,BOSCH_CUBES:12,BOSCH_BOARD:13,BOSCH_DIGITAL:14,AG_BOARD:15,BUS_SIGN:16,BUS_STOP:17,AG_BUILDING:18},m=[[1,16,17,4,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[1,1,1,1,1,1,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,2,0,2],[1,0,0,0,0,1,0,9,0,0,2,0,2,2,2,0,2,0,2,2,0,0,0,2,2,2,0,2,0,2],[1,7,0,0,0,1,0,0,0,0,2,0,2,0,2,0,0,0,2,2,2,2,2,2,0,2,0,2,0,2],[1,0,0,0,0,1,0,0,0,0,2,1,2,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,2],[1,0,0,0,0,1,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[1,0,0,0,0,1,4,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,1,4,4,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,4,4,0,0,0,0,0,1,1,18,0,0,1,10,4,0,0,1,6,1,12,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,15,1,4,0,0,11,4,4,0,0,13,4,1,14,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,1,0,5,5,5,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,0,5,2,5,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,0,5,5,5,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];function oe(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*h*2,2*d*2,20*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));n.position.z=10*2,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*h*2,1*d*2,20*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));r.position.z=30*2,r.position.y=h,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(3*h*2,2*d*2,2*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));t.position.z=41*2,t.castShadow=!0,t.receiveShadow=!0,o.add(t);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(3*h*2,2*2,20*2),new THREE.MeshPhongMaterial({color:6829312,flatShading:!0}));return i.position.z=h*2+h/2,i.position.y=-h*2,i.castShadow=!0,i.receiveShadow=!0,o.add(i),o}E(oe,"TourBuilding");function te(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.CylinderGeometry(35*2,35*2,2*h*2,10),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return n.position.z=h*2,n.position.y=h*2/2,n.position.x=h*2/2,n.rotation.x=Math.PI/2,n.castShadow=!0,n.receiveShadow=!0,o.add(n),o}E(te,"LubtracContainner");function re(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));n.position.z=30*2,n.position.y=h*2/-2,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));r.position.z=30*2,r.position.y=h*2/2,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,h*2,20*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));t.position.z=30*2,t.castShadow=!0,t.receiveShadow=!0,o.add(t);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,h*2,30*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return i.position.z=75*2,i.castShadow=!0,i.receiveShadow=!0,o.add(i),o}E(re,"LubtracBoard");function ne(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,10*2),new THREE.MeshPhongMaterial({color:1197863,flatShading:!0}));n.position.z=5*2,n.position.y=h*2/-4,n.position.x=h*2/-4,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,10*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));r.position.z=5*2,r.position.y=h*2/4,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,10*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));return t.position.z=5*2,t.position.y=h*2/-4,t.position.x=h*2/4,t.castShadow=!0,t.receiveShadow=!0,o.add(t),o}E(ne,"BoschCubes");function ae(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));n.position.z=30*2,n.position.y=h*2/-2,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));r.position.z=30*2,r.position.y=h*2/2,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,h*2,30*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));return t.position.z=75*2,t.castShadow=!0,t.receiveShadow=!0,o.add(t),o}E(ae,"BoschBoard");function ie(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,h*2,h*2),new THREE.MeshPhongMaterial({color:0,flatShading:!0}));return n.position.z=h*2/2,n.castShadow=!0,n.receiveShadow=!0,o.add(n),o}E(ie,"BoschDigital");function se(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,h*2,h*2),new THREE.MeshPhongMaterial({color:16744448,flatShading:!0}));return n.position.z=h*2/2,n.castShadow=!0,n.receiveShadow=!0,o.add(n),o}E(se,"AGBoard");function he(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,4*2),new THREE.MeshPhongMaterial({color:4541017,flatShading:!0}));n.position.z=2*2,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(4*2,4*2,10*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));r.position.z=7*2,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(5*2,30*2,40*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return t.position.z=34*2,t.castShadow=!0,t.receiveShadow=!0,o.add(t),o}E(he,"BusSign");function ce(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(h*2,2*d*2,2*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));n.position.z=2*2,n.position.y=h*2/2,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(h*2/2,2*d*2-10,10*2),new THREE.MeshPhongMaterial({color:6829312,flatShading:!0}));r.position.z=7*2,r.position.y=h*2/2,r.position.x=-6*2,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(4*2,4*2,40*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));t.position.z=21*2,t.position.y=-h*2/2,t.position.x=-h*2/2,t.castShadow=!0,t.receiveShadow=!0,o.add(t);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(4*2,4*2,40*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));i.position.z=21*2,i.position.y=h*2+h*2/2,i.position.x=-h*2/2,i.castShadow=!0,i.receiveShadow=!0,o.add(i);let s=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*h*2,40*2),new THREE.MeshPhongMaterial({color:33023,flatShading:!0}));s.position.z=21*2,s.position.y=h*2/2,s.position.x=-h*2/2,s.castShadow=!0,s.receiveShadow=!0,o.add(s);let l=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*h*2,40*2),new THREE.MeshPhongMaterial({color:33023,flatShading:!0}));return l.position.z=51*2,l.position.y=h*2/2,l.rotation.y=Math.PI/3,l.position.x=-h*2/4,l.castShadow=!0,l.receiveShadow=!0,o.add(l),o}E(ce,"BusStop");function Ee(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(60*2,30*2,2*h*2),new THREE.MeshPhongMaterial({color:0,flatShading:!0}));n.position.z=30*2,n.position.x=h*2/2,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=new THREE.Mesh(new THREE.IcosahedronGeometry(3*2,1),new THREE.MeshPhongMaterial({color:16711680,flatShading:!0}));r.position.z=40*2,r.position.x=50*2,r.position.y=8*2,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(5*2,25*2,5*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return t.position.z=50*2,t.position.x=50*2,t.castShadow=!0,t.receiveShadow=!0,o.add(t),o}E(Ee,"AGBuilding");var a=Object.freeze({GENERAL:{BLACK:"rgb(48,48,48)",WHITE:"rgb(255,255,255)"},COW:{BASE:"rgb(255, 255, 255)",BROWN:"rgb(105, 59, 7)",PINK:"rgb(232, 106, 218)",BLACK:"rgb(0, 0, 0)"},BEAR:{BROWN:"rgb(165,97,51)",PINK:"rgb(199,104,166)"},PORK:{PINK:"rgb(255,173,205)",DARKPINK:"rgb(255,112,167)",BROWN:"rgb(188,111,58)"},SHEEP:{BROWN:"rgb(188,111,58)",PINK:"rgb(255,173,205)",SKIN:"rgb(253,221,202)"},FROG:{GREEN:"rgb(62,212,107)",YELLOW:"rgb(255,192,3)",PINK:"rgb(255,173,205)"},FISH:{ORANGE:"rgb(255,71,0)",DARKYELLOW:"rgb(255,165,0)",YELLOW:"rgb(255,192,3)"}});var R={COW:{RIGHT:new p(70,70,[{x:0,y:20,w:20,h:40,color:a.COW.BROWN},{x:20,y:30,w:10,h:20,color:a.COW.BROWN},{x:30,y:0,w:10,h:10,color:a.COW.PINK}]),LEFT:new p(70,70,[{x:50,y:0,w:20,h:40,color:a.COW.BROWN},{x:40,y:0,w:10,h:30,color:a.COW.BROWN},{x:30,y:10,w:10,h:10,color:a.COW.BROWN},{x:50,y:60,w:20,h:10,color:a.COW.BROWN},{x:10,y:40,w:20,h:10,color:a.COW.BROWN},{x:30,y:0,w:10,h:10,color:a.COW.PINK}]),FRONT:new p(70,70,[{x:30,y:60,w:10,h:10,color:a.COW.BROWN},{x:0,y:40,w:30,h:30,color:a.COW.BROWN},{x:10,y:30,w:10,h:10,color:a.COW.BROWN},{x:10,y:40,w:10,h:10,color:a.COW.BLACK},{x:50,y:40,w:10,h:10,color:a.COW.BLACK},{x:0,y:30,w:10,h:10,color:a.COW.PINK},{x:60,y:30,w:10,h:10,color:a.COW.PINK},{x:20,y:20,w:30,h:20,color:a.COW.PINK}]),BACK:new p(70,70,[{x:0,y:0,w:10,h:20,color:a.COW.BROWN},{x:10,y:0,w:10,h:10,color:a.COW.BROWN},{x:30,y:50,w:10,h:10,color:a.COW.BLACK}]),TOP:new p(70,70,[{x:0,y:0,w:30,h:30,color:a.COW.BROWN},{x:30,y:0,w:10,h:10,color:a.COW.BROWN},{x:0,y:30,w:10,h:10,color:a.COW.BROWN},{x:10,y:10,w:10,h:10,color:a.COW.BLACK},{x:50,y:10,w:10,h:10,color:a.COW.BLACK},{x:0,y:60,w:20,h:10,color:a.COW.BROWN},{x:60,y:20,w:10,h:40,color:a.COW.BROWN},{x:50,y:30,w:10,h:10,color:a.COW.BROWN}])},PANDA:{RIGHT:new p(64,64,[{x:40,y:8,w:24,h:48,color:a.GENERAL.BLACK},{x:24,y:16,w:16,h:32,color:a.GENERAL.BLACK},{x:8,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:0,y:40,w:8,h:8,color:a.GENERAL.BLACK}]),LEFT:new p(64,64,[{x:0,y:8,w:24,h:48,color:a.GENERAL.BLACK},{x:24,y:16,w:16,h:32,color:a.GENERAL.BLACK},{x:40,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:56,y:40,w:8,h:8,color:a.GENERAL.BLACK}]),FRONT:new p(64,64,[{x:8,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:40,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:24,y:16,w:16,h:8,color:a.GENERAL.BLACK}]),BACK:new p(64,64,[{x:24,y:40,w:16,h:16,color:a.GENERAL.BLACK}]),TOP:new p(64,64,[{x:0,y:8,w:24,h:8,color:a.GENERAL.BLACK},{x:40,y:8,w:24,h:8,color:a.GENERAL.BLACK},{x:0,y:40,w:64,h:8,color:a.GENERAL.BLACK}])},BEAR:{RIGHT:new p(64,64,[{x:0,y:0,w:64,h:64,color:a.BEAR.BROWN},{x:32,y:0,w:8,h:8,color:a.BEAR.PINK}]),LEFT:new p(64,64,[{x:0,y:0,w:64,h:64,color:a.BEAR.BROWN},{x:24,y:0,w:8,h:8,color:a.BEAR.PINK}]),FRONT:new p(64,64,[{x:0,y:0,w:64,h:64,color:a.BEAR.BROWN},{x:16,y:40,w:8,h:8,color:a.GENERAL.BLACK},{x:40,y:40,w:8,h:8,color:a.GENERAL.BLACK},{x:0,y:24,w:8,h:8,color:a.BEAR.PINK},{x:56,y:24,w:8,h:8,color:a.BEAR.PINK}])}};function de(){let o=new THREE.Group,n=[new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.BEAR.RIGHT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.BEAR.LEFT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.BEAR.FRONT}),new THREE.MeshBasicMaterial({color:a.BEAR.BROWN,side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({color:a.BEAR.BROWN,side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({color:15733283,side:THREE.DoubleSide})],r=new THREE.Mesh(new THREE.BoxGeometry(c*2,c*2,c*2),n);r.position.z=8*2,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));t.position.z=(c+1.5)*2,t.position.y=c/3.5*2,t.position.x=c/3.3*2,t.castShadow=!0,t.receiveShadow=!1,o.add(t);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));i.position.z=(c+1.5)*2,i.position.y=c/3.5*2,i.position.x=-(c/3.3)*2,i.castShadow=!0,i.receiveShadow=!1,o.add(i);let s=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,2*2,4*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));s.position.z=c/2*2,s.position.y=c/2*2,s.castShadow=!0,s.receiveShadow=!1,o.add(s);let l=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.GENERAL.BLACK,flatShading:!0}));l.position.z=c/2*2+c/16*2,l.position.y=c/2*2,l.castShadow=!0,l.receiveShadow=!1,o.add(l);let x=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));return x.position.z=c/3*2,x.position.y=-(c/1.8)*2,x.castShadow=!0,x.receiveShadow=!1,o.add(x),o}E(de,"bearPlayer");function le(){let o=new THREE.Group,n=[new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.RIGHT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.LEFT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.FRONT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.BACK}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.TOP}),new THREE.MeshBasicMaterial({color:15733283,side:THREE.DoubleSide})],r=new THREE.Mesh(new THREE.BoxGeometry(c*2,c*2,c*2),n);r.position.z=8*2,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,3*2,4*2),new THREE.MeshLambertMaterial({color:a.COW.PINK,flatShading:!0}));t.position.z=c/2*2,t.position.y=c/2*2,t.castShadow=!0,t.receiveShadow=!1,o.add(t);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.COW.BLACK,flatShading:!0}));i.position.z=(c+1.5)*2,i.position.y=c/3.5*2,i.position.x=c/3.3*2,i.castShadow=!0,i.receiveShadow=!1,o.add(i);let s=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.COW.BLACK,flatShading:!0}));s.position.z=(c+1.5)*2,s.position.y=c/3.5*2,s.position.x=-(c/3.3)*2,s.castShadow=!0,s.receiveShadow=!1,o.add(s);let l=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.COW.BASE,flatShading:!0}));l.position.z=(c-2)*2,l.position.y=c/3.5*2,l.position.x=-(c/1.8)*2,l.castShadow=!0,l.receiveShadow=!1,o.add(l);let x=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.COW.BASE,flatShading:!0}));x.position.z=(c-2)*2,x.position.y=c/3.5*2,x.position.x=c/1.8*2,x.castShadow=!0,x.receiveShadow=!1,o.add(x);let N=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,4*2),new THREE.MeshLambertMaterial({color:a.COW.BLACK,flatShading:!0}));return N.position.z=c/3*2,N.position.y=-(c/1.8)*2,N.castShadow=!0,N.receiveShadow=!1,o.add(N),o}E(le,"cowPlayer");function we(){let o=new THREE.Group,n=[new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.RIGHT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.LEFT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.FRONT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.BACK}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.TOP}),new THREE.MeshBasicMaterial({color:15733283,side:THREE.DoubleSide})],r=new THREE.Mesh(new THREE.BoxGeometry(c*2,c*2,c*2),n);r.position.z=8*2,r.castShadow=!0,r.receiveShadow=!0,o.add(r);let t=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,1*2,2*2),new THREE.MeshLambertMaterial({color:a.GENERAL.BLACK,flatShading:!0}));t.position.z=c/3*2,t.position.y=c/1.8*2,t.castShadow=!0,t.receiveShadow=!1,o.add(t);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.GENERAL.BLACK,flatShading:!0}));i.position.z=(c+1.5)*2,i.position.y=c/3.5*2,i.position.x=c/3.3*2,i.castShadow=!0,i.receiveShadow=!1,o.add(i);let s=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.GENERAL.BLACK,flatShading:!0}));s.position.z=(c+1.5)*2,s.position.y=c/3.5*2,s.position.x=-(c/3.3)*2,s.castShadow=!0,s.receiveShadow=!1,o.add(s);let l=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,2*2,3*2),new THREE.MeshLambertMaterial({color:a.COW.BLACK,flatShading:!0}));return l.position.z=c/3*2,l.position.y=-(c/1.8)*2,l.castShadow=!0,l.receiveShadow=!1,o.add(l),o}E(we,"pandaPlayer");function z(o){switch(o){case"cow":return le();case"panda":return we();case"bear":return de();default:return Ie()}}E(z,"Player");function p(o,n,r){let t=document.createElement("canvas");t.width=o,t.height=n;let i=t.getContext("2d");return r.forEach(s=>{i.fillStyle=s.color,i.fillRect(s.x,s.y,s.w,s.h)}),new THREE.CanvasTexture(t)}E(p,"CanvasTexture");function Ie(){let o=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(PLAYER_SIZE*ZOOM,PLAYER_SIZE*ZOOM,20*ZOOM),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));n.position.z=10*ZOOM,n.castShadow=!0,n.receiveShadow=!0,o.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(2*ZOOM,4*ZOOM,2*ZOOM),new THREE.MeshLambertMaterial({color:15753626,flatShading:!0}));return r.position.z=21*ZOOM,r.castShadow=!0,r.receiveShadow=!1,o.add(r),o}E(Ie,"originalChickenPlayer");function ue(o){let n=new Array(m.length);for(let r=0;r<m.length;r++){n[r]=new Array(m[r].length);for(let t=0;t<m[r].length;t++){let i=new Ae(m[r][t],r,t);i.mesh.position.x=r*d*2-d*2,i.mesh.position.y=t*d*2,o.add(i.mesh),n[r][t]=i}}return n}E(ue,"generateMap");function Ae(o,n,r){this.x_index=n,this.y_index=r,this.type=o,this.occupiedPosition=!1;let t=null;switch(this.type){case T.GRASS:this.mesh=new g;break;case T.ROAD:this.mesh=new H;break;case T.THREE:this.mesh=new g,t=new j,t.position.x=d*2-d*2,this.mesh.add(t),this.occupiedPosition=!0;break;case T.ROCK:this.mesh=new g,t=new q,t.position.x=d*2-d*2,this.mesh.add(t),this.occupiedPosition=!0;break;case T.OCCUPIED:this.mesh=new H,this.occupiedPosition=!0;break;case T.WATER:this.mesh=new V,this.occupiedPosition=!0;break;case T.VEHICLE:this.mesh=new H,t=new ee,t.position.x=d*2/2,this.mesh.add(t),this.occupiedPosition=!0;break;case T.TEST:this.mesh=new g,t=new z("bear"),t.rotation.z=Math.PI,this.mesh.add(t),this.occupiedPosition=!0;break;case T.TOURBUILDING:this.mesh=new H,t=new oe,t.position.x=d*2,t.position.y=d*2/-2,this.mesh.add(t),this.occupiedPosition=!0;break;case T.BOARD:this.mesh=new H,t=new J,this.mesh.add(t),this.occupiedPosition=!0;break;case T.LUBTRAC_CONTAINNER:this.mesh=new H,t=new te,this.mesh.add(t),this.occupiedPosition=!0;break;case T.LUBTRAC_BOARD:this.mesh=new H,t=new re,this.mesh.add(t),this.occupiedPosition=!0;break;case T.BOSCH_CUBES:this.mesh=new H,t=new ne,this.mesh.add(t),this.occupiedPosition=!0;break;case T.BOSCH_BOARD:this.mesh=new H,t=new ae,this.mesh.add(t),this.occupiedPosition=!0;break;case T.BOSCH_DIGITAL:this.mesh=new H,t=new ie,this.mesh.add(t),this.occupiedPosition=!0;break;case T.AG_BOARD:this.mesh=new H,t=new se,this.mesh.add(t),this.occupiedPosition=!0;break;case T.BUS_SIGN:this.mesh=new g,t=new he,this.mesh.add(t),this.occupiedPosition=!0;break;case T.BUS_STOP:this.mesh=new g,t=new ce,this.mesh.add(t),this.occupiedPosition=!0;break;case T.AG_BUILDING:this.mesh=new H,t=new Ee,this.mesh.add(t),this.occupiedPosition=!0;break;default:this.mesh=new g;break}}E(Ae,"Tile");var Te=document.getElementById("counter"),Pe=document.getElementById("end"),Le=m[0].length,be=m.length,P=new THREE.Scene;P.background=K;var S=new THREE.OrthographicCamera(globalThis.innerWidth/-2,globalThis.innerWidth/2,globalThis.innerHeight/2,globalThis.innerHeight/-2,.1,1e4);S.rotation.x=u.CAMERA.ROTATION.X;S.rotation.y=u.CAMERA.ROTATION.Y;S.rotation.z=u.CAMERA.ROTATION.Z;S.position.y=u.CAMERA.POSITION.Y;S.position.x=u.CAMERA.POSITION.X;S.position.z=500;var C,I,G,O,D,b,A,B,w=new z("cow");P.add(w);var Ce=new THREE.HemisphereLight(16777215,16777215,.6);P.add(Ce);var f=new THREE.DirectionalLight(16777215,.6);f.position.set(u.DIR_LIGHT.POSITION.X,u.DIR_LIGHT.POSITION.Y,200);f.castShadow=!0;f.target=w;P.add(f);f.shadow.mapSize.width=2048;f.shadow.mapSize.height=2048;f.shadow.camera.left=u.DIR_LIGHT.SHADOW.CAMERA.LEFT;f.shadow.camera.right=u.DIR_LIGHT.SHADOW.CAMERA.RIGHT;f.shadow.camera.top=u.DIR_LIGHT.SHADOW.CAMERA.TOP;f.shadow.camera.bottom=u.DIR_LIGHT.SHADOW.CAMERA.BOTTON;var k=new THREE.DirectionalLight(0,.4);k.position.set(200,200,50);k.castShadow=!0;P.add(k);var Re=E(()=>{C=ue(P),I=0,G=1,D=null,b=!1,A=[],B="forward",w.position.x=0,w.position.y=0,w.rotation.z=0,S.position.y=u.CAMERA.POSITION.Y,S.position.x=u.CAMERA.POSITION.X,f.position.x=u.DIR_LIGHT.POSITION.X,f.position.y=u.DIR_LIGHT.POSITION.Y},"initaliseValues");Re();var _=new THREE.WebGLRenderer({alpha:!0,antialias:!0});_.shadowMap.enabled=!0;_.shadowMap.type=THREE.PCFSoftShadowMap;_.setSize(globalThis.innerWidth,globalThis.innerHeight);document.body.appendChild(_.domElement);function y(o){if(A.length>=2)return;let n=A.reduce((r,t)=>{if(t==="forward")return{lane:r.lane+1,column:r.column};if(t==="backward")return{lane:r.lane-1,column:r.column};if(t==="left")return{lane:r.lane,column:r.column-1};if(t==="right")return{lane:r.lane,column:r.column+1}},{lane:I,column:G});if(o==="forward"){if(n.lane===Le-1||C[n.column][n.lane+1].occupiedPosition===!0)return;O||(b=!0)}else if(o==="backward"){if(n.lane===0||C[n.column][n.lane-1].occupiedPosition===!0)return;O||(b=!0)}else if(o==="left"){if(n.column===0||C[n.column-1][n.lane].occupiedPosition===!0)return;O||(b=!0)}else if(o==="right"){if(n.column===be-1||C[n.column+1][n.lane].occupiedPosition===!0)return;O||(b=!0)}A.push(o)}E(y,"move");document.querySelector("#retry").addEventListener("click",()=>{C.forEach(o=>o.forEach(n=>P.remove(n))),Re(),Pe.style.visibility="hidden"});document.getElementById("forward").addEventListener("click",()=>y("forward"));document.getElementById("backward").addEventListener("click",()=>y("backward"));document.getElementById("left").addEventListener("click",()=>y("left"));document.getElementById("right").addEventListener("click",()=>y("right"));globalThis.addEventListener("keydown",o=>{o.keyCode=="38"?y("forward"):o.keyCode=="40"?y("backward"):o.keyCode=="37"?y("left"):o.keyCode=="39"&&y("right")});function fe(o){requestAnimationFrame(fe),D||(D=o);let n=o-D;if(D=o,b&&(O=o,b=!1),O){let r=o-O,t=Math.min(r/200,1)*d*2,i=Math.sin(Math.min(r/200,1)*Math.PI)*8*2;switch(A[0]){case"forward":{let s=I*d*2+t;switch(S.position.y=u.CAMERA.POSITION.Y+s,f.position.y=u.DIR_LIGHT.POSITION.Y+s,w.position.y=s,w.position.z=i,B){case"left":w.rotation.z=-(Math.min(r/200,1)-1)*Math.PI/2;break;case"right":w.rotation.z=(Math.min(r/200,1)-1)*Math.PI/2;break;case"backward":w.rotation.z=(Math.min(r/200,1)-1)*Math.PI;break;default:break}break}case"backward":{let s=I*d*2-t;switch(S.position.y=u.CAMERA.POSITION.Y+s,f.position.y=u.DIR_LIGHT.POSITION.Y+s,w.position.y=s,w.position.z=i,B){case"forward":w.rotation.z=-(Math.min(r/200,1)*Math.PI);break;case"left":w.rotation.z=Math.min(r/200,1)*Math.PI/2+Math.PI/2;break;case"right":w.rotation.z=-(Math.min(r/200,1)*Math.PI/2+Math.PI/2);break;default:break}break}case"left":{let s=(G*d+d/2)*2-W*2/2-t;switch(S.position.x=u.CAMERA.POSITION.X+s,f.position.x=u.DIR_LIGHT.POSITION.X+s,w.position.x=s,w.position.z=i,B){case"forward":w.rotation.z=Math.min(r/200,1)*Math.PI/2;break;case"backward":w.rotation.z=-(Math.min(r/200,1)*Math.PI/2-Math.PI);break;case"right":w.rotation.z=-(Math.min(r/200,1)*Math.PI+Math.PI/2);break;default:break}break}case"right":{let s=(G*d+d/2)*2-W*2/2+t;switch(S.position.x=u.CAMERA.POSITION.X+s,f.position.x=u.DIR_LIGHT.POSITION.X+s,w.position.x=s,w.position.z=i,B){case"forward":w.rotation.z=-(Math.min(r/200,1)*Math.PI/2);break;case"backward":w.rotation.z=Math.min(r/200,1)*Math.PI/2-Math.PI;break;case"left":w.rotation.z=Math.min(r/200,1)*Math.PI+Math.PI/2;break;default:break}break}}if(r>200){switch(A[0]){case"forward":{I++,Te.innerHTML=I,B="forward";break}case"backward":{I--,Te.innerHTML=I,B="backward";break}case"left":{G--,B="left";break}case"right":{G++,B="right";break}}A.shift(),O=A.length===0?null:o}}_.render(P,S)}E(fe,"animate");requestAnimationFrame(fe);
