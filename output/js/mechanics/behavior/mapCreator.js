var te=Object.defineProperty;var h=(t,n)=>te(t,"name",{value:n,configurable:!0});var fe=new THREE.Color().setHex(8900331),ne=-100,re=-100,m=500,N=50*Math.PI/180,W=20*Math.PI/180,ae=10*Math.PI/180,v=-Math.tan(N)*500,ie=Math.tan(W)*Math.sqrt(500**2+v**2),He=Object.freeze({DIR_LIGHT:{POSITION:{X:ne,Y:re},SHADOW:{CAMERA:{LEFT:-m,RIGHT:m,TOP:m,BOTTON:-m}}},CAMERA:{ROTATION:{X:N,Y:W,Z:ae},POSITION:{X:ie,Y:v}}}),l=15,c=42,x=3;var T=c*x,s=42,O=["car","truck","forest"],S=[2,2.5,3];var g=[20,45,60];function D(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(15*2,15*2,20*2),new THREE.MeshPhongMaterial({color:5056806,flatShading:!0}));n.position.z=10*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=g[Math.floor(Math.random()*g.length)],o=new THREE.Mesh(new THREE.BoxBufferGeometry(30*2,30*2,r*2),new THREE.MeshLambertMaterial({color:8036893,flatShading:!0}));return o.position.z=(r/2+20)*2,o.castShadow=!0,o.receiveShadow=!1,t.add(o),t}h(D,"Three");function A(){let t=new THREE.Group,n=h(E=>new THREE.Mesh(new THREE.BoxBufferGeometry(T*2,c*2),new THREE.MeshPhongMaterial({color:E})),"createSection"),r=n(12252245);r.receiveShadow=!0,t.add(r);let o=n(10078278);o.position.x=-T*2,t.add(o);let i=n(10078278);return i.position.x=T*2,t.add(i),t.position.z=1.5*2,t}h(A,"Grass");function H(){let t=new THREE.Group,r=h(o=>new THREE.Mesh(new THREE.BoxBufferGeometry(s*2,c*2),new THREE.MeshPhongMaterial({color:o})),"createSection")(12252245);return r.receiveShadow=!0,t.add(r),t.position.z=1.5*2,t}h(H,"GrassTile");function u(){let t=new THREE.Group,r=h(o=>new THREE.Mesh(new THREE.BoxBufferGeometry(s*2,c*2),new THREE.MeshPhongMaterial({color:o})),"createSection")(4541017);return r.receiveShadow=!0,t.add(r),t.position.z=1.5*2,t}h(u,"RoadTile");function z(){let t=new THREE.Group,r=h(o=>new THREE.Mesh(new THREE.BoxBufferGeometry(s*2,c*2),new THREE.MeshPhongMaterial({color:o})),"createSection")(33023);return r.receiveShadow=!0,t.add(r),t.position.z=1.5*2,t}h(z,"WaterTile");function _(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(15*2,15*2,20*2),new THREE.MeshPhongMaterial({color:5056806,flatShading:!0}));n.position.z=10*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=g[Math.floor(Math.random()*g.length)],o=new THREE.Mesh(new THREE.BoxBufferGeometry(30*2,30*2,r*2),new THREE.MeshLambertMaterial({color:8036893,flatShading:!0}));return o.position.z=(r/2+20)*2,o.castShadow=!0,o.receiveShadow=!1,t.add(o),t}h(_,"ThreeTile");function K(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.IcosahedronGeometry(15*2,1),new THREE.MeshPhongMaterial({color:8421504,flatShading:!0}));return n.castShadow=!0,n.receiveShadow=!0,t.add(n),t}h(K,"RockTile");function F(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(5*2,5*2,80*2),new THREE.MeshPhongMaterial({color:8421504,flatShading:!0}));n.position.z=40*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(130*2,5*2,80*2),new THREE.MeshPhongMaterial({color:8421504,flatShading:!0}));return r.position.z=120*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r),t}h(F,"CVBoard");function P(){let t=new THREE.Group,n=h(E=>new THREE.Mesh(new THREE.PlaneBufferGeometry(T*2,c*2),new THREE.MeshPhongMaterial({color:E})),"createSection"),r=n(4541017);r.receiveShadow=!0,t.add(r);let o=n(3751241);o.position.x=-T*2,t.add(o);let i=n(3751241);return i.position.x=T*2,t.add(i),t}h(P,"Road");var y=[10822947,12432952,7909707],se=new p(40,80,[{x:0,y:10,w:30,h:60}]),he=new p(40,80,[{x:10,y:10,w:30,h:60}]),Ee=new p(110,40,[{x:10,y:0,w:50,h:30},{x:70,y:0,w:30,h:30}]),ce=new p(110,40,[{x:10,y:10,w:50,h:30},{x:70,y:10,w:30,h:30}]),de=new p(30,30,[{x:15,y:0,w:10,h:30}]),we=new p(25,30,[{x:0,y:15,w:10,h:10}]),le=new p(25,30,[{x:0,y:5,w:10,h:10}]);function G(){let t=new THREE.Group,n=y[Math.floor(Math.random()*y.length)],r=new THREE.Mesh(new THREE.BoxBufferGeometry(60*2,30*2,15*2),new THREE.MeshPhongMaterial({color:n,flatShading:!0}));r.position.z=12*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(33*2,24*2,12*2),[new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:he}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:se}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:Ee}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:ce}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0})]);o.position.x=6*2,o.position.z=25.5*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new B;i.position.x=-18*2,t.add(i);let E=new B;return E.position.x=18*2,t.add(E),t.castShadow=!0,t.receiveShadow=!1,t}h(G,"Car");function k(){let t=new THREE.Group,n=y[Math.floor(Math.random()*y.length)],r=new THREE.Mesh(new THREE.BoxBufferGeometry(100*2,25*2,5*2),new THREE.MeshLambertMaterial({color:11847420,flatShading:!0}));r.position.z=10*2,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(75*2,35*2,40*2),new THREE.MeshPhongMaterial({color:11847420,flatShading:!0}));o.position.x=15*2,o.position.z=30*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(25*2,30*2,30*2),[new THREE.MeshPhongMaterial({color:n,flatShading:!0}),new THREE.MeshPhongMaterial({color:n,flatShading:!0,map:de}),new THREE.MeshPhongMaterial({color:n,flatShading:!0,map:we}),new THREE.MeshPhongMaterial({color:n,flatShading:!0,map:le}),new THREE.MeshPhongMaterial({color:n,flatShading:!0}),new THREE.MeshPhongMaterial({color:n,flatShading:!0})]);i.position.x=-40*2,i.position.z=20*2,i.castShadow=!0,i.receiveShadow=!0,t.add(i);let E=new B;E.position.x=-38*2,t.add(E);let w=new B;w.position.x=-10*2,t.add(w);let f=new B;return f.position.x=30*2,t.add(f),t}h(k,"Truck");function B(){let t=new THREE.Mesh(new THREE.BoxBufferGeometry(12*2,33*2,12*2),new THREE.MeshLambertMaterial({color:3355443,flatShading:!0}));return t.position.z=6*2,t}h(B,"Wheel");function p(t,n,r){let o=document.createElement("canvas");o.width=t,o.height=n;let i=o.getContext("2d");return i.fillStyle="#ffffff",i.fillRect(0,0,t,n),i.fillStyle="rgba(0,0,0,0.6)",r.forEach(E=>{i.fillRect(E.x,E.y,E.w,E.h)}),new THREE.CanvasTexture(o)}h(p,"Texture");var d={GRASS:0,ROAD:1,THREE:2,ROCK:3,OCCUPIED:4,WATER:5,VEHICLE:6,TEST:7,TOURBUILDING:8,BOARD:9,LUBTRAC_CONTAINNER:10,LUBTRAC_BOARD:11,BOSCH_CUBES:12,BOSCH_BOARD:13,BOSCH_DIGITAL:14,AG_BOARD:15,BUS_SIGN:16,BUS_STOP:17,AG_BUILDING:18},M=[[1,16,17,4,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[1,1,1,1,1,1,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,2,0,2],[1,0,0,0,0,1,0,9,0,0,2,0,2,2,2,0,2,0,2,2,0,0,0,2,2,2,0,2,0,2],[1,7,0,0,0,1,0,0,0,0,2,0,2,0,2,0,0,0,2,2,2,2,2,2,0,2,0,2,0,2],[1,0,0,0,0,1,0,0,0,0,2,1,2,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,2],[1,0,0,0,0,1,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[1,0,0,0,0,1,4,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,1,4,4,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,4,4,0,0,0,0,0,1,1,18,0,0,1,10,4,0,0,1,6,1,12,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,15,1,4,0,0,11,4,4,0,0,13,4,1,14,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,1,0,5,5,5,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,0,5,2,5,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,0,5,5,5,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];function U(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*s*2,2*c*2,20*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));n.position.z=10*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*s*2,1*c*2,20*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));r.position.z=30*2,r.position.y=s,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(3*s*2,2*c*2,2*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));o.position.z=41*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(3*s*2,2*2,20*2),new THREE.MeshPhongMaterial({color:6829312,flatShading:!0}));return i.position.z=s*2+s/2,i.position.y=-s*2,i.castShadow=!0,i.receiveShadow=!0,t.add(i),t}h(U,"TourBuilding");function Y(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.CylinderGeometry(35*2,35*2,2*s*2,10),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return n.position.z=s*2,n.position.y=s*2/2,n.position.x=s*2/2,n.rotation.x=Math.PI/2,n.castShadow=!0,n.receiveShadow=!0,t.add(n),t}h(Y,"LubtracContainner");function Z(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));n.position.z=30*2,n.position.y=s*2/-2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));r.position.z=30*2,r.position.y=s*2/2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,s*2,20*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));o.position.z=30*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,s*2,30*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return i.position.z=75*2,i.castShadow=!0,i.receiveShadow=!0,t.add(i),t}h(Z,"LubtracBoard");function X(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,10*2),new THREE.MeshPhongMaterial({color:1197863,flatShading:!0}));n.position.z=5*2,n.position.y=s*2/-4,n.position.x=s*2/-4,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,10*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));r.position.z=5*2,r.position.y=s*2/4,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,10*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));return o.position.z=5*2,o.position.y=s*2/-4,o.position.x=s*2/4,o.castShadow=!0,o.receiveShadow=!0,t.add(o),t}h(X,"BoschCubes");function V(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));n.position.z=30*2,n.position.y=s*2/-2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));r.position.z=30*2,r.position.y=s*2/2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,s*2,30*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));return o.position.z=75*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o),t}h(V,"BoschBoard");function j(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,s*2,s*2),new THREE.MeshPhongMaterial({color:0,flatShading:!0}));return n.position.z=s*2/2,n.castShadow=!0,n.receiveShadow=!0,t.add(n),t}h(j,"BoschDigital");function q(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,s*2,s*2),new THREE.MeshPhongMaterial({color:16744448,flatShading:!0}));return n.position.z=s*2/2,n.castShadow=!0,n.receiveShadow=!0,t.add(n),t}h(q,"AGBoard");function J(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,4*2),new THREE.MeshPhongMaterial({color:4541017,flatShading:!0}));n.position.z=2*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(4*2,4*2,10*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));r.position.z=7*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(5*2,30*2,40*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return o.position.z=34*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o),t}h(J,"BusSign");function Q(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(s*2,2*c*2,2*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));n.position.z=2*2,n.position.y=s*2/2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=new THREE.Mesh(new THREE.BoxBufferGeometry(s*2/2,2*c*2-10,10*2),new THREE.MeshPhongMaterial({color:6829312,flatShading:!0}));r.position.z=7*2,r.position.y=s*2/2,r.position.x=-6*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(4*2,4*2,40*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));o.position.z=21*2,o.position.y=-s*2/2,o.position.x=-s*2/2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(4*2,4*2,40*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));i.position.z=21*2,i.position.y=s*2+s*2/2,i.position.x=-s*2/2,i.castShadow=!0,i.receiveShadow=!0,t.add(i);let E=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*s*2,40*2),new THREE.MeshPhongMaterial({color:33023,flatShading:!0}));E.position.z=21*2,E.position.y=s*2/2,E.position.x=-s*2/2,E.castShadow=!0,E.receiveShadow=!0,t.add(E);let w=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*s*2,40*2),new THREE.MeshPhongMaterial({color:33023,flatShading:!0}));return w.position.z=51*2,w.position.y=s*2/2,w.rotation.y=Math.PI/3,w.position.x=-s*2/4,w.castShadow=!0,w.receiveShadow=!0,t.add(w),t}h(Q,"BusStop");function $(){let t=new THREE.Group,n=new THREE.Mesh(new THREE.BoxBufferGeometry(60*2,30*2,2*s*2),new THREE.MeshPhongMaterial({color:0,flatShading:!0}));n.position.z=30*2,n.position.x=s*2/2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let r=new THREE.Mesh(new THREE.IcosahedronGeometry(3*2,1),new THREE.MeshPhongMaterial({color:16711680,flatShading:!0}));r.position.z=40*2,r.position.x=50*2,r.position.y=8*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(5*2,25*2,5*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return o.position.z=50*2,o.position.x=50*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o),t}h($,"AGBuilding");var a=Object.freeze({GENERAL:{BLACK:"rgb(48,48,48)",WHITE:"rgb(255,255,255)"},COW:{BASE:"rgb(255, 255, 255)",BROWN:"rgb(105, 59, 7)",PINK:"rgb(232, 106, 218)",BLACK:"rgb(0, 0, 0)"},BEAR:{BROWN:"rgb(165,97,51)",PINK:"rgb(199,104,166)"},PORK:{PINK:"rgb(255,173,205)",DARKPINK:"rgb(255,112,167)",BROWN:"rgb(188,111,58)"},SHEEP:{BROWN:"rgb(188,111,58)",PINK:"rgb(255,173,205)",SKIN:"rgb(253,221,202)"},FROG:{GREEN:"rgb(62,212,107)",YELLOW:"rgb(255,192,3)",PINK:"rgb(255,173,205)"},FISH:{ORANGE:"rgb(255,71,0)",DARKYELLOW:"rgb(255,165,0)",YELLOW:"rgb(255,192,3)"}}),C=Object.freeze({COW:{RIGHT:new R(70,70,[{x:0,y:20,w:20,h:40,color:a.COW.BROWN},{x:20,y:30,w:10,h:20,color:a.COW.BROWN},{x:30,y:0,w:10,h:10,color:a.COW.PINK}]),LEFT:new R(70,70,[{x:50,y:0,w:20,h:40,color:a.COW.BROWN},{x:40,y:0,w:10,h:30,color:a.COW.BROWN},{x:30,y:10,w:10,h:10,color:a.COW.BROWN},{x:50,y:60,w:20,h:10,color:a.COW.BROWN},{x:10,y:40,w:20,h:10,color:a.COW.BROWN},{x:30,y:0,w:10,h:10,color:a.COW.PINK}]),FRONT:new R(70,70,[{x:30,y:60,w:10,h:10,color:a.COW.BROWN},{x:0,y:40,w:30,h:30,color:a.COW.BROWN},{x:10,y:30,w:10,h:10,color:a.COW.BROWN},{x:10,y:40,w:10,h:10,color:a.COW.BLACK},{x:50,y:40,w:10,h:10,color:a.COW.BLACK},{x:0,y:30,w:10,h:10,color:a.COW.PINK},{x:60,y:30,w:10,h:10,color:a.COW.PINK},{x:20,y:20,w:30,h:20,color:a.COW.PINK}]),BACK:new R(70,70,[{x:0,y:0,w:10,h:20,color:a.COW.BROWN},{x:10,y:0,w:10,h:10,color:a.COW.BROWN},{x:30,y:50,w:10,h:10,color:a.COW.BLACK}]),TOP:new R(70,70,[{x:0,y:0,w:30,h:30,color:a.COW.BROWN},{x:30,y:0,w:10,h:10,color:a.COW.BROWN},{x:0,y:30,w:10,h:10,color:a.COW.BROWN},{x:10,y:10,w:10,h:10,color:a.COW.BLACK},{x:50,y:10,w:10,h:10,color:a.COW.BLACK},{x:0,y:60,w:20,h:10,color:a.COW.BROWN},{x:60,y:20,w:10,h:40,color:a.COW.BROWN},{x:50,y:30,w:10,h:10,color:a.COW.BROWN}])},PANDA:{RIGHT:new R(64,64,[{x:40,y:8,w:24,h:48,color:a.GENERAL.BLACK},{x:24,y:16,w:16,h:32,color:a.GENERAL.BLACK},{x:8,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:0,y:40,w:8,h:8,color:a.GENERAL.BLACK}]),LEFT:new R(64,64,[{x:0,y:8,w:24,h:48,color:a.GENERAL.BLACK},{x:24,y:16,w:16,h:32,color:a.GENERAL.BLACK},{x:40,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:56,y:40,w:8,h:8,color:a.GENERAL.BLACK}]),FRONT:new R(64,64,[{x:8,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:40,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:24,y:16,w:16,h:8,color:a.GENERAL.BLACK}]),BACK:new R(64,64,[{x:24,y:40,w:16,h:16,color:a.GENERAL.BLACK}]),TOP:new R(64,64,[{x:0,y:8,w:24,h:8,color:a.GENERAL.BLACK},{x:40,y:8,w:24,h:8,color:a.GENERAL.BLACK},{x:0,y:40,w:64,h:8,color:a.GENERAL.BLACK}])},BEAR:{RIGHT:new R(64,64,[{x:0,y:0,w:64,h:64,color:a.BEAR.BROWN},{x:32,y:0,w:8,h:8,color:a.BEAR.PINK}]),LEFT:new R(64,64,[{x:0,y:0,w:64,h:64,color:a.BEAR.BROWN},{x:24,y:0,w:8,h:8,color:a.BEAR.PINK}]),FRONT:new R(64,64,[{x:0,y:0,w:64,h:64,color:a.BEAR.BROWN},{x:16,y:40,w:8,h:8,color:a.GENERAL.BLACK},{x:40,y:40,w:8,h:8,color:a.GENERAL.BLACK},{x:0,y:24,w:8,h:8,color:a.BEAR.PINK},{x:56,y:24,w:8,h:8,color:a.BEAR.PINK}])}});function ee(){let t=new THREE.Group,n=[new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:C.BEAR.RIGHT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:C.BEAR.LEFT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:C.BEAR.FRONT}),new THREE.MeshBasicMaterial({color:a.BEAR.BROWN,side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({color:a.BEAR.BROWN,side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({color:15733283,side:THREE.DoubleSide})],r=new THREE.Mesh(new THREE.BoxGeometry(l*2,l*2,l*2),n);r.position.z=8*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));o.position.z=(l+1.5)*2,o.position.y=l/3.5*2,o.position.x=l/3.3*2,o.castShadow=!0,o.receiveShadow=!1,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));i.position.z=(l+1.5)*2,i.position.y=l/3.5*2,i.position.x=-(l/3.3)*2,i.castShadow=!0,i.receiveShadow=!1,t.add(i);let E=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,2*2,4*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));E.position.z=l/2*2,E.position.y=l/2*2,E.castShadow=!0,E.receiveShadow=!1,t.add(E);let w=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.GENERAL.BLACK,flatShading:!0}));w.position.z=l/2*2+l/16*2,w.position.y=l/2*2,w.castShadow=!0,w.receiveShadow=!1,t.add(w);let f=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));return f.position.z=l/3*2,f.position.y=-(l/1.8)*2,f.castShadow=!0,f.receiveShadow=!1,t.add(f),t}h(ee,"bearPlayer");function R(t,n,r){let o=document.createElement("canvas");o.width=t,o.height=n;let i=o.getContext("2d");return r.forEach(E=>{i.fillStyle=E.color,i.fillRect(E.x,E.y,E.w,E.h)}),new THREE.CanvasTexture(o)}h(R,"CanvasTexture");function Ye(t){let n=new Array(M.length);for(let r=0;r<M.length;r++){n[r]=new Array(M[r].length);for(let o=0;o<M[r].length;o++){let i=new ue(M[r][o],r,o);i.mesh.position.x=r*c*2-c*2,i.mesh.position.y=o*c*2,t.add(i.mesh),n[r][o]=i}}return n}h(Ye,"generateMap");function ue(t,n,r){this.x_index=n,this.y_index=r,this.type=t,this.occupiedPosition=!1;let o=null;switch(this.type){case d.GRASS:this.mesh=new H;break;case d.ROAD:this.mesh=new u;break;case d.THREE:this.mesh=new H,o=new _,o.position.x=c*2-c*2,this.mesh.add(o),this.occupiedPosition=!0;break;case d.ROCK:this.mesh=new H,o=new K,o.position.x=c*2-c*2,this.mesh.add(o),this.occupiedPosition=!0;break;case d.OCCUPIED:this.mesh=new u,this.occupiedPosition=!0;break;case d.WATER:this.mesh=new z,this.occupiedPosition=!0;break;case d.VEHICLE:this.mesh=new u,o=new G,o.position.x=c*2/2,this.mesh.add(o),this.occupiedPosition=!0;break;case d.TEST:this.mesh=new H,o=new ee,this.mesh.add(o),this.occupiedPosition=!0;break;case d.TOURBUILDING:this.mesh=new u,o=new U,o.position.x=c*2,o.position.y=c*2/-2,this.mesh.add(o),this.occupiedPosition=!0;break;case d.BOARD:this.mesh=new u,o=new F,this.mesh.add(o),this.occupiedPosition=!0;break;case d.LUBTRAC_CONTAINNER:this.mesh=new u,o=new Y,this.mesh.add(o),this.occupiedPosition=!0;break;case d.LUBTRAC_BOARD:this.mesh=new u,o=new Z,this.mesh.add(o),this.occupiedPosition=!0;break;case d.BOSCH_CUBES:this.mesh=new u,o=new X,this.mesh.add(o),this.occupiedPosition=!0;break;case d.BOSCH_BOARD:this.mesh=new u,o=new V,this.mesh.add(o),this.occupiedPosition=!0;break;case d.BOSCH_DIGITAL:this.mesh=new u,o=new j,this.mesh.add(o),this.occupiedPosition=!0;break;case d.AG_BOARD:this.mesh=new u,o=new q,this.mesh.add(o),this.occupiedPosition=!0;break;case d.BUS_SIGN:this.mesh=new H,o=new J,this.mesh.add(o),this.occupiedPosition=!0;break;case d.BUS_STOP:this.mesh=new H,o=new Q,this.mesh.add(o),this.occupiedPosition=!0;break;case d.AG_BUILDING:this.mesh=new u,o=new $,this.mesh.add(o),this.occupiedPosition=!0;break;default:this.mesh=new H;break}}h(ue,"Tile");var Ze=h((t,n,r,o,i,E,w,f,L,I,b)=>{lanes=Re(t),currentLane=0,currentColumn=Math.floor(x/2),previousTimestamp=null,startMoving=!1,moves=[],L.position.x=0,L.position.y=0,I.position.y=initialCameraPositionY,I.position.x=initialCameraPositionX,b.position.x=initialDirLightPositionX,b.position.y=initialDirLightPositionY},"initaliseValues"),Re=h(t=>[-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9].map(n=>{let r=new oe(n);return r.mesh.position.y=n*c*2,t.add(r.mesh),r}).filter(n=>n.index>=0),"generateLanes"),Xe=h((t,n)=>{let r=n.length,o=new oe(r);o.mesh.position.y=r*c*2,t.add(o.mesh),n.push(o)},"addLane");function oe(t){switch(this.index=t,this.type=t<=0?"field":O[Math.floor(Math.random()*O.length)],this.type){case"field":{this.type="field",this.mesh=new A;break}case"forest":{this.mesh=new A,this.occupiedPositions=new Set,this.threes=[1,2,3,4].map(()=>{let n=new D,r;do r=Math.floor(Math.random()*x);while(this.occupiedPositions.has(r));return this.occupiedPositions.add(r),n.position.x=(r*c+c/2)*2-T*2/2,this.mesh.add(n),n});break}case"car":{this.mesh=new P,this.direction=Math.random()>=.5;let n=new Set;this.vechicles=[1,2,3].map(()=>{let r=new G,o;do o=Math.floor(Math.random()*x/2);while(n.has(o));return n.add(o),r.position.x=(o*c*2+c/2)*2-T*2/2,this.direction||(r.rotation.z=Math.PI),this.mesh.add(r),r}),this.speed=S[Math.floor(Math.random()*S.length)];break}case"truck":{this.mesh=new P,this.direction=Math.random()>=.5;let n=new Set;this.vechicles=[1,2].map(()=>{let r=new k,o;do o=Math.floor(Math.random()*x/3);while(n.has(o));return n.add(o),r.position.x=(o*c*3+c/2)*2-T*2/2,this.direction||(r.rotation.z=Math.PI),this.mesh.add(r),r}),this.speed=S[Math.floor(Math.random()*S.length)];break}}}h(oe,"Lane");export{Xe as addLane,Re as generateLanes,Ye as generateMap,Ze as initaliseValues};
