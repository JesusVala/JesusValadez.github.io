var ae=Object.defineProperty;var c=(t,r)=>ae(t,"name",{value:r,configurable:!0});var He=new THREE.Color().setHex(8900331),ie=-100,se=-100,g=500,N=50*Math.PI/180,W=20*Math.PI/180,he=10*Math.PI/180,v=-Math.tan(N)*500,Ee=Math.tan(W)*Math.sqrt(500**2+v**2),Se=Object.freeze({DIR_LIGHT:{POSITION:{X:ie,Y:se},SHADOW:{CAMERA:{LEFT:-g,RIGHT:g,TOP:g,BOTTON:-g}}},CAMERA:{ROTATION:{X:N,Y:W,Z:he},POSITION:{X:Ee,Y:v}}}),h=15,d=42,S=3;var p=d*S,s=42,P=["car","truck","forest"],m=[2,2.5,3];var y=[20,45,60];function _(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(15*2,15*2,20*2),new THREE.MeshPhongMaterial({color:5056806,flatShading:!0}));r.position.z=10*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=y[Math.floor(Math.random()*y.length)],o=new THREE.Mesh(new THREE.BoxBufferGeometry(30*2,30*2,n*2),new THREE.MeshLambertMaterial({color:8036893,flatShading:!0}));return o.position.z=(n/2+20)*2,o.castShadow=!0,o.receiveShadow=!1,t.add(o),t}c(_,"Three");function G(){let t=new THREE.Group,r=c(E=>new THREE.Mesh(new THREE.BoxBufferGeometry(p*2,d*2),new THREE.MeshPhongMaterial({color:E})),"createSection"),n=r(12252245);n.receiveShadow=!0,t.add(n);let o=r(10078278);o.position.x=-p*2,t.add(o);let i=r(10078278);return i.position.x=p*2,t.add(i),t.position.z=1.5*2,t}c(G,"Grass");function x(){let t=new THREE.Group,n=c(o=>new THREE.Mesh(new THREE.BoxBufferGeometry(s*2,d*2),new THREE.MeshPhongMaterial({color:o})),"createSection")(12252245);return n.receiveShadow=!0,t.add(n),t.position.z=1.5*2,t}c(x,"GrassTile");function f(){let t=new THREE.Group,n=c(o=>new THREE.Mesh(new THREE.BoxBufferGeometry(s*2,d*2),new THREE.MeshPhongMaterial({color:o})),"createSection")(4541017);return n.receiveShadow=!0,t.add(n),t.position.z=1.5*2,t}c(f,"RoadTile");function D(){let t=new THREE.Group,n=c(o=>new THREE.Mesh(new THREE.BoxBufferGeometry(s*2,d*2),new THREE.MeshPhongMaterial({color:o})),"createSection")(33023);return n.receiveShadow=!0,t.add(n),t.position.z=1.5*2,t}c(D,"WaterTile");function z(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(15*2,15*2,20*2),new THREE.MeshPhongMaterial({color:5056806,flatShading:!0}));r.position.z=10*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=y[Math.floor(Math.random()*y.length)],o=new THREE.Mesh(new THREE.BoxBufferGeometry(30*2,30*2,n*2),new THREE.MeshLambertMaterial({color:8036893,flatShading:!0}));return o.position.z=(n/2+20)*2,o.castShadow=!0,o.receiveShadow=!1,t.add(o),t}c(z,"ThreeTile");function K(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.IcosahedronGeometry(15*2,1),new THREE.MeshPhongMaterial({color:8421504,flatShading:!0}));return r.castShadow=!0,r.receiveShadow=!0,t.add(r),t}c(K,"RockTile");function F(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(5*2,5*2,80*2),new THREE.MeshPhongMaterial({color:8421504,flatShading:!0}));r.position.z=40*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=new THREE.Mesh(new THREE.BoxBufferGeometry(130*2,5*2,80*2),new THREE.MeshPhongMaterial({color:8421504,flatShading:!0}));return n.position.z=120*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n),t}c(F,"CVBoard");function L(){let t=new THREE.Group,r=c(E=>new THREE.Mesh(new THREE.PlaneBufferGeometry(p*2,d*2),new THREE.MeshPhongMaterial({color:E})),"createSection"),n=r(4541017);n.receiveShadow=!0,t.add(n);let o=r(3751241);o.position.x=-p*2,t.add(o);let i=r(3751241);return i.position.x=p*2,t.add(i),t}c(L,"Road");var A=[10822947,12432952,7909707],ce=new H(40,80,[{x:0,y:10,w:30,h:60}]),de=new H(40,80,[{x:10,y:10,w:30,h:60}]),we=new H(110,40,[{x:10,y:0,w:50,h:30},{x:70,y:0,w:30,h:30}]),le=new H(110,40,[{x:10,y:10,w:50,h:30},{x:70,y:10,w:30,h:30}]),ue=new H(30,30,[{x:15,y:0,w:10,h:30}]),Re=new H(25,30,[{x:0,y:15,w:10,h:10}]),Te=new H(25,30,[{x:0,y:5,w:10,h:10}]);function C(){let t=new THREE.Group,r=A[Math.floor(Math.random()*A.length)],n=new THREE.Mesh(new THREE.BoxBufferGeometry(60*2,30*2,15*2),new THREE.MeshPhongMaterial({color:r,flatShading:!0}));n.position.z=12*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(33*2,24*2,12*2),[new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:de}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:ce}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:we}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0,map:le}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0}),new THREE.MeshPhongMaterial({color:13421772,flatShading:!0})]);o.position.x=6*2,o.position.z=25.5*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new O;i.position.x=-18*2,t.add(i);let E=new O;return E.position.x=18*2,t.add(E),t.castShadow=!0,t.receiveShadow=!1,t}c(C,"Car");function k(){let t=new THREE.Group,r=A[Math.floor(Math.random()*A.length)],n=new THREE.Mesh(new THREE.BoxBufferGeometry(100*2,25*2,5*2),new THREE.MeshLambertMaterial({color:11847420,flatShading:!0}));n.position.z=10*2,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(75*2,35*2,40*2),new THREE.MeshPhongMaterial({color:11847420,flatShading:!0}));o.position.x=15*2,o.position.z=30*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(25*2,30*2,30*2),[new THREE.MeshPhongMaterial({color:r,flatShading:!0}),new THREE.MeshPhongMaterial({color:r,flatShading:!0,map:ue}),new THREE.MeshPhongMaterial({color:r,flatShading:!0,map:Re}),new THREE.MeshPhongMaterial({color:r,flatShading:!0,map:Te}),new THREE.MeshPhongMaterial({color:r,flatShading:!0}),new THREE.MeshPhongMaterial({color:r,flatShading:!0})]);i.position.x=-40*2,i.position.z=20*2,i.castShadow=!0,i.receiveShadow=!0,t.add(i);let E=new O;E.position.x=-38*2,t.add(E);let w=new O;w.position.x=-10*2,t.add(w);let u=new O;return u.position.x=30*2,t.add(u),t}c(k,"Truck");function O(){let t=new THREE.Mesh(new THREE.BoxBufferGeometry(12*2,33*2,12*2),new THREE.MeshLambertMaterial({color:3355443,flatShading:!0}));return t.position.z=6*2,t}c(O,"Wheel");function H(t,r,n){let o=document.createElement("canvas");o.width=t,o.height=r;let i=o.getContext("2d");return i.fillStyle="#ffffff",i.fillRect(0,0,t,r),i.fillStyle="rgba(0,0,0,0.6)",n.forEach(E=>{i.fillRect(E.x,E.y,E.w,E.h)}),new THREE.CanvasTexture(o)}c(H,"Texture");var l={GRASS:0,ROAD:1,THREE:2,ROCK:3,OCCUPIED:4,WATER:5,VEHICLE:6,TEST:7,TOURBUILDING:8,BOARD:9,LUBTRAC_CONTAINNER:10,LUBTRAC_BOARD:11,BOSCH_CUBES:12,BOSCH_BOARD:13,BOSCH_DIGITAL:14,AG_BOARD:15,BUS_SIGN:16,BUS_STOP:17,AG_BUILDING:18},B=[[1,16,17,4,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[1,1,1,1,1,1,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,2,0,2],[1,0,0,0,0,1,0,9,0,0,2,0,2,2,2,0,2,0,2,2,0,0,0,2,2,2,0,2,0,2],[1,7,0,0,0,1,0,0,0,0,2,0,2,0,2,0,0,0,2,2,2,2,2,2,0,2,0,2,0,2],[1,0,0,0,0,1,0,0,0,0,2,1,2,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,2],[1,0,0,0,0,1,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[1,0,0,0,0,1,4,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,1,4,4,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,4,4,0,0,0,0,0,1,1,18,0,0,1,10,4,0,0,1,6,1,12,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,15,1,4,0,0,11,4,4,0,0,13,4,1,14,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,1,0,5,5,5,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,0,5,2,5,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,0,5,5,5,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];function Z(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*s*2,2*d*2,20*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));r.position.z=10*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*s*2,1*d*2,20*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));n.position.z=30*2,n.position.y=s,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(3*s*2,2*d*2,2*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));o.position.z=41*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(3*s*2,2*2,20*2),new THREE.MeshPhongMaterial({color:6829312,flatShading:!0}));return i.position.z=s*2+s/2,i.position.y=-s*2,i.castShadow=!0,i.receiveShadow=!0,t.add(i),t}c(Z,"TourBuilding");function U(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.CylinderGeometry(35*2,35*2,2*s*2,10),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return r.position.z=s*2,r.position.y=s*2/2,r.position.x=s*2/2,r.rotation.x=Math.PI/2,r.castShadow=!0,r.receiveShadow=!0,t.add(r),t}c(U,"LubtracContainner");function Y(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));r.position.z=30*2,r.position.y=s*2/-2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));n.position.z=30*2,n.position.y=s*2/2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,s*2,20*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));o.position.z=30*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,s*2,30*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return i.position.z=75*2,i.castShadow=!0,i.receiveShadow=!0,t.add(i),t}c(Y,"LubtracBoard");function X(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,10*2),new THREE.MeshPhongMaterial({color:1197863,flatShading:!0}));r.position.z=5*2,r.position.y=s*2/-4,r.position.x=s*2/-4,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,10*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));n.position.z=5*2,n.position.y=s*2/4,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,10*2),new THREE.MeshPhongMaterial({color:10040319,flatShading:!0}));return o.position.z=5*2,o.position.y=s*2/-4,o.position.x=s*2/4,o.castShadow=!0,o.receiveShadow=!0,t.add(o),t}c(X,"BoschCubes");function V(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));r.position.z=30*2,r.position.y=s*2/-2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,3*2,60*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));n.position.z=30*2,n.position.y=s*2/2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,s*2,30*2),new THREE.MeshPhongMaterial({color:1329151,flatShading:!0}));return o.position.z=75*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o),t}c(V,"BoschBoard");function j(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,s*2,s*2),new THREE.MeshPhongMaterial({color:0,flatShading:!0}));return r.position.z=s*2/2,r.castShadow=!0,r.receiveShadow=!0,t.add(r),t}c(j,"BoschDigital");function q(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,s*2,s*2),new THREE.MeshPhongMaterial({color:16744448,flatShading:!0}));return r.position.z=s*2/2,r.castShadow=!0,r.receiveShadow=!0,t.add(r),t}c(q,"AGBoard");function J(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(10*2,10*2,4*2),new THREE.MeshPhongMaterial({color:4541017,flatShading:!0}));r.position.z=2*2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=new THREE.Mesh(new THREE.BoxBufferGeometry(4*2,4*2,10*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));n.position.z=7*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(5*2,30*2,40*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return o.position.z=34*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o),t}c(J,"BusSign");function Q(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(s*2,2*d*2,2*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));r.position.z=2*2,r.position.y=s*2/2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=new THREE.Mesh(new THREE.BoxBufferGeometry(s*2/2,2*d*2-10,10*2),new THREE.MeshPhongMaterial({color:6829312,flatShading:!0}));n.position.z=7*2,n.position.y=s*2/2,n.position.x=-6*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(4*2,4*2,40*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));o.position.z=21*2,o.position.y=-s*2/2,o.position.x=-s*2/2,o.castShadow=!0,o.receiveShadow=!0,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(4*2,4*2,40*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));i.position.z=21*2,i.position.y=s*2+s*2/2,i.position.x=-s*2/2,i.castShadow=!0,i.receiveShadow=!0,t.add(i);let E=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*s*2,40*2),new THREE.MeshPhongMaterial({color:33023,flatShading:!0}));E.position.z=21*2,E.position.y=s*2/2,E.position.x=-s*2/2,E.castShadow=!0,E.receiveShadow=!0,t.add(E);let w=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*s*2,40*2),new THREE.MeshPhongMaterial({color:33023,flatShading:!0}));return w.position.z=51*2,w.position.y=s*2/2,w.rotation.y=Math.PI/3,w.position.x=-s*2/4,w.castShadow=!0,w.receiveShadow=!0,t.add(w),t}c(Q,"BusStop");function $(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(60*2,30*2,2*s*2),new THREE.MeshPhongMaterial({color:0,flatShading:!0}));r.position.z=30*2,r.position.x=s*2/2,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=new THREE.Mesh(new THREE.IcosahedronGeometry(3*2,1),new THREE.MeshPhongMaterial({color:16711680,flatShading:!0}));n.position.z=40*2,n.position.x=50*2,n.position.y=8*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(5*2,25*2,5*2),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));return o.position.z=50*2,o.position.x=50*2,o.castShadow=!0,o.receiveShadow=!0,t.add(o),t}c($,"AGBuilding");var a=Object.freeze({GENERAL:{BLACK:"rgb(48,48,48)",WHITE:"rgb(255,255,255)"},COW:{BASE:"rgb(255, 255, 255)",BROWN:"rgb(105, 59, 7)",PINK:"rgb(232, 106, 218)",BLACK:"rgb(0, 0, 0)"},BEAR:{BROWN:"rgb(165,97,51)",PINK:"rgb(199,104,166)"},PORK:{PINK:"rgb(255,173,205)",DARKPINK:"rgb(255,112,167)",BROWN:"rgb(188,111,58)"},SHEEP:{BROWN:"rgb(188,111,58)",PINK:"rgb(255,173,205)",SKIN:"rgb(253,221,202)"},FROG:{GREEN:"rgb(62,212,107)",YELLOW:"rgb(255,192,3)",PINK:"rgb(255,173,205)"},FISH:{ORANGE:"rgb(255,71,0)",DARKYELLOW:"rgb(255,165,0)",YELLOW:"rgb(255,192,3)"}});var R={COW:{RIGHT:new T(70,70,[{x:0,y:20,w:20,h:40,color:a.COW.BROWN},{x:20,y:30,w:10,h:20,color:a.COW.BROWN},{x:30,y:0,w:10,h:10,color:a.COW.PINK}]),LEFT:new T(70,70,[{x:50,y:0,w:20,h:40,color:a.COW.BROWN},{x:40,y:0,w:10,h:30,color:a.COW.BROWN},{x:30,y:10,w:10,h:10,color:a.COW.BROWN},{x:50,y:60,w:20,h:10,color:a.COW.BROWN},{x:10,y:40,w:20,h:10,color:a.COW.BROWN},{x:30,y:0,w:10,h:10,color:a.COW.PINK}]),FRONT:new T(70,70,[{x:30,y:60,w:10,h:10,color:a.COW.BROWN},{x:0,y:40,w:30,h:30,color:a.COW.BROWN},{x:10,y:30,w:10,h:10,color:a.COW.BROWN},{x:10,y:40,w:10,h:10,color:a.COW.BLACK},{x:50,y:40,w:10,h:10,color:a.COW.BLACK},{x:0,y:30,w:10,h:10,color:a.COW.PINK},{x:60,y:30,w:10,h:10,color:a.COW.PINK},{x:20,y:20,w:30,h:20,color:a.COW.PINK}]),BACK:new T(70,70,[{x:0,y:0,w:10,h:20,color:a.COW.BROWN},{x:10,y:0,w:10,h:10,color:a.COW.BROWN},{x:30,y:50,w:10,h:10,color:a.COW.BLACK}]),TOP:new T(70,70,[{x:0,y:0,w:30,h:30,color:a.COW.BROWN},{x:30,y:0,w:10,h:10,color:a.COW.BROWN},{x:0,y:30,w:10,h:10,color:a.COW.BROWN},{x:10,y:10,w:10,h:10,color:a.COW.BLACK},{x:50,y:10,w:10,h:10,color:a.COW.BLACK},{x:0,y:60,w:20,h:10,color:a.COW.BROWN},{x:60,y:20,w:10,h:40,color:a.COW.BROWN},{x:50,y:30,w:10,h:10,color:a.COW.BROWN}])},PANDA:{RIGHT:new T(64,64,[{x:40,y:8,w:24,h:48,color:a.GENERAL.BLACK},{x:24,y:16,w:16,h:32,color:a.GENERAL.BLACK},{x:8,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:0,y:40,w:8,h:8,color:a.GENERAL.BLACK}]),LEFT:new T(64,64,[{x:0,y:8,w:24,h:48,color:a.GENERAL.BLACK},{x:24,y:16,w:16,h:32,color:a.GENERAL.BLACK},{x:40,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:56,y:40,w:8,h:8,color:a.GENERAL.BLACK}]),FRONT:new T(64,64,[{x:8,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:40,y:32,w:16,h:16,color:a.GENERAL.BLACK},{x:24,y:16,w:16,h:8,color:a.GENERAL.BLACK}]),BACK:new T(64,64,[{x:24,y:40,w:16,h:16,color:a.GENERAL.BLACK}]),TOP:new T(64,64,[{x:0,y:8,w:24,h:8,color:a.GENERAL.BLACK},{x:40,y:8,w:24,h:8,color:a.GENERAL.BLACK},{x:0,y:40,w:64,h:8,color:a.GENERAL.BLACK}])},BEAR:{RIGHT:new T(64,64,[{x:0,y:0,w:64,h:64,color:a.BEAR.BROWN},{x:32,y:0,w:8,h:8,color:a.BEAR.PINK}]),LEFT:new T(64,64,[{x:0,y:0,w:64,h:64,color:a.BEAR.BROWN},{x:24,y:0,w:8,h:8,color:a.BEAR.PINK}]),FRONT:new T(64,64,[{x:0,y:0,w:64,h:64,color:a.BEAR.BROWN},{x:16,y:40,w:8,h:8,color:a.GENERAL.BLACK},{x:40,y:40,w:8,h:8,color:a.GENERAL.BLACK},{x:0,y:24,w:8,h:8,color:a.BEAR.PINK},{x:56,y:24,w:8,h:8,color:a.BEAR.PINK}])}};function ee(){let t=new THREE.Group,r=[new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.BEAR.RIGHT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.BEAR.LEFT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.BEAR.FRONT}),new THREE.MeshBasicMaterial({color:a.BEAR.BROWN,side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({color:a.BEAR.BROWN,side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({color:15733283,side:THREE.DoubleSide})],n=new THREE.Mesh(new THREE.BoxGeometry(h*2,h*2,h*2),r);n.position.z=8*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));o.position.z=(h+1.5)*2,o.position.y=h/3.5*2,o.position.x=h/3.3*2,o.castShadow=!0,o.receiveShadow=!1,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));i.position.z=(h+1.5)*2,i.position.y=h/3.5*2,i.position.x=-(h/3.3)*2,i.castShadow=!0,i.receiveShadow=!1,t.add(i);let E=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,2*2,4*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));E.position.z=h/2*2,E.position.y=h/2*2,E.castShadow=!0,E.receiveShadow=!1,t.add(E);let w=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.GENERAL.BLACK,flatShading:!0}));w.position.z=h/2*2+h/16*2,w.position.y=h/2*2,w.castShadow=!0,w.receiveShadow=!1,t.add(w);let u=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.BEAR.BROWN,flatShading:!0}));return u.position.z=h/3*2,u.position.y=-(h/1.8)*2,u.castShadow=!0,u.receiveShadow=!1,t.add(u),t}c(ee,"bearPlayer");function oe(){let t=new THREE.Group,r=[new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.RIGHT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.LEFT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.FRONT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.BACK}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.COW.TOP}),new THREE.MeshBasicMaterial({color:15733283,side:THREE.DoubleSide})],n=new THREE.Mesh(new THREE.BoxGeometry(h*2,h*2,h*2),r);n.position.z=8*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,3*2,4*2),new THREE.MeshLambertMaterial({color:a.COW.PINK,flatShading:!0}));o.position.z=h/2*2,o.position.y=h/2*2,o.castShadow=!0,o.receiveShadow=!1,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.COW.BLACK,flatShading:!0}));i.position.z=(h+1.5)*2,i.position.y=h/3.5*2,i.position.x=h/3.3*2,i.castShadow=!0,i.receiveShadow=!1,t.add(i);let E=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.COW.BLACK,flatShading:!0}));E.position.z=(h+1.5)*2,E.position.y=h/3.5*2,E.position.x=-(h/3.3)*2,E.castShadow=!0,E.receiveShadow=!1,t.add(E);let w=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.COW.BASE,flatShading:!0}));w.position.z=(h-2)*2,w.position.y=h/3.5*2,w.position.x=-(h/1.8)*2,w.castShadow=!0,w.receiveShadow=!1,t.add(w);let u=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.COW.BASE,flatShading:!0}));u.position.z=(h-2)*2,u.position.y=h/3.5*2,u.position.x=h/1.8*2,u.castShadow=!0,u.receiveShadow=!1,t.add(u);let M=new THREE.Mesh(new THREE.BoxBufferGeometry(2*2,2*2,4*2),new THREE.MeshLambertMaterial({color:a.COW.BLACK,flatShading:!0}));return M.position.z=h/3*2,M.position.y=-(h/1.8)*2,M.castShadow=!0,M.receiveShadow=!1,t.add(M),t}c(oe,"cowPlayer");function te(){let t=new THREE.Group,r=[new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.RIGHT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.LEFT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.FRONT}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.BACK}),new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:R.PANDA.TOP}),new THREE.MeshBasicMaterial({color:15733283,side:THREE.DoubleSide})],n=new THREE.Mesh(new THREE.BoxGeometry(h*2,h*2,h*2),r);n.position.z=8*2,n.castShadow=!0,n.receiveShadow=!0,t.add(n);let o=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,1*2,2*2),new THREE.MeshLambertMaterial({color:a.GENERAL.BLACK,flatShading:!0}));o.position.z=h/3*2,o.position.y=h/1.8*2,o.castShadow=!0,o.receiveShadow=!1,t.add(o);let i=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.GENERAL.BLACK,flatShading:!0}));i.position.z=(h+1.5)*2,i.position.y=h/3.5*2,i.position.x=h/3.3*2,i.castShadow=!0,i.receiveShadow=!1,t.add(i);let E=new THREE.Mesh(new THREE.BoxBufferGeometry(6*2,2*2,2*2),new THREE.MeshLambertMaterial({color:a.GENERAL.BLACK,flatShading:!0}));E.position.z=(h+1.5)*2,E.position.y=h/3.5*2,E.position.x=-(h/3.3)*2,E.castShadow=!0,E.receiveShadow=!1,t.add(E);let w=new THREE.Mesh(new THREE.BoxBufferGeometry(3*2,2*2,3*2),new THREE.MeshLambertMaterial({color:a.COW.BLACK,flatShading:!0}));return w.position.z=h/3*2,w.position.y=-(h/1.8)*2,w.castShadow=!0,w.receiveShadow=!1,t.add(w),t}c(te,"pandaPlayer");function re(t){switch(t){case"cow":return oe();case"panda":return te();case"bear":return ee();default:return fe()}}c(re,"Player");function T(t,r,n){let o=document.createElement("canvas");o.width=t,o.height=r;let i=o.getContext("2d");return n.forEach(E=>{i.fillStyle=E.color,i.fillRect(E.x,E.y,E.w,E.h)}),new THREE.CanvasTexture(o)}c(T,"CanvasTexture");function fe(){let t=new THREE.Group,r=new THREE.Mesh(new THREE.BoxBufferGeometry(PLAYER_SIZE*ZOOM,PLAYER_SIZE*ZOOM,20*ZOOM),new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}));r.position.z=10*ZOOM,r.castShadow=!0,r.receiveShadow=!0,t.add(r);let n=new THREE.Mesh(new THREE.BoxBufferGeometry(2*ZOOM,4*ZOOM,2*ZOOM),new THREE.MeshLambertMaterial({color:15753626,flatShading:!0}));return n.position.z=21*ZOOM,n.castShadow=!0,n.receiveShadow=!1,t.add(n),t}c(fe,"originalChickenPlayer");function co(t){let r=new Array(B.length);for(let n=0;n<B.length;n++){r[n]=new Array(B[n].length);for(let o=0;o<B[n].length;o++){let i=new pe(B[n][o],n,o);i.mesh.position.x=n*d*2-d*2,i.mesh.position.y=o*d*2,t.add(i.mesh),r[n][o]=i}}return r}c(co,"generateMap");function pe(t,r,n){this.x_index=r,this.y_index=n,this.type=t,this.occupiedPosition=!1;let o=null;switch(this.type){case l.GRASS:this.mesh=new x;break;case l.ROAD:this.mesh=new f;break;case l.THREE:this.mesh=new x,o=new z,o.position.x=d*2-d*2,this.mesh.add(o),this.occupiedPosition=!0;break;case l.ROCK:this.mesh=new x,o=new K,o.position.x=d*2-d*2,this.mesh.add(o),this.occupiedPosition=!0;break;case l.OCCUPIED:this.mesh=new f,this.occupiedPosition=!0;break;case l.WATER:this.mesh=new D,this.occupiedPosition=!0;break;case l.VEHICLE:this.mesh=new f,o=new C,o.position.x=d*2/2,this.mesh.add(o),this.occupiedPosition=!0;break;case l.TEST:this.mesh=new x,o=new re("bear"),o.rotation.z=Math.PI,this.mesh.add(o),this.occupiedPosition=!0;break;case l.TOURBUILDING:this.mesh=new f,o=new Z,o.position.x=d*2,o.position.y=d*2/-2,this.mesh.add(o),this.occupiedPosition=!0;break;case l.BOARD:this.mesh=new f,o=new F,this.mesh.add(o),this.occupiedPosition=!0;break;case l.LUBTRAC_CONTAINNER:this.mesh=new f,o=new U,this.mesh.add(o),this.occupiedPosition=!0;break;case l.LUBTRAC_BOARD:this.mesh=new f,o=new Y,this.mesh.add(o),this.occupiedPosition=!0;break;case l.BOSCH_CUBES:this.mesh=new f,o=new X,this.mesh.add(o),this.occupiedPosition=!0;break;case l.BOSCH_BOARD:this.mesh=new f,o=new V,this.mesh.add(o),this.occupiedPosition=!0;break;case l.BOSCH_DIGITAL:this.mesh=new f,o=new j,this.mesh.add(o),this.occupiedPosition=!0;break;case l.AG_BOARD:this.mesh=new f,o=new q,this.mesh.add(o),this.occupiedPosition=!0;break;case l.BUS_SIGN:this.mesh=new x,o=new J,this.mesh.add(o),this.occupiedPosition=!0;break;case l.BUS_STOP:this.mesh=new x,o=new Q,this.mesh.add(o),this.occupiedPosition=!0;break;case l.AG_BUILDING:this.mesh=new f,o=new $,this.mesh.add(o),this.occupiedPosition=!0;break;default:this.mesh=new x;break}}c(pe,"Tile");var wo=c((t,r,n,o,i,E,w,u,M,I,b)=>{lanes=Me(t),currentLane=0,currentColumn=Math.floor(S/2),previousTimestamp=null,startMoving=!1,moves=[],M.position.x=0,M.position.y=0,I.position.y=initialCameraPositionY,I.position.x=initialCameraPositionX,b.position.x=initialDirLightPositionX,b.position.y=initialDirLightPositionY},"initaliseValues"),Me=c(t=>[-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9].map(r=>{let n=new ne(r);return n.mesh.position.y=r*d*2,t.add(n.mesh),n}).filter(r=>r.index>=0),"generateLanes"),lo=c((t,r)=>{let n=r.length,o=new ne(n);o.mesh.position.y=n*d*2,t.add(o.mesh),r.push(o)},"addLane");function ne(t){switch(this.index=t,this.type=t<=0?"field":P[Math.floor(Math.random()*P.length)],this.type){case"field":{this.type="field",this.mesh=new G;break}case"forest":{this.mesh=new G,this.occupiedPositions=new Set,this.threes=[1,2,3,4].map(()=>{let r=new _,n;do n=Math.floor(Math.random()*S);while(this.occupiedPositions.has(n));return this.occupiedPositions.add(n),r.position.x=(n*d+d/2)*2-p*2/2,this.mesh.add(r),r});break}case"car":{this.mesh=new L,this.direction=Math.random()>=.5;let r=new Set;this.vechicles=[1,2,3].map(()=>{let n=new C,o;do o=Math.floor(Math.random()*S/2);while(r.has(o));return r.add(o),n.position.x=(o*d*2+d/2)*2-p*2/2,this.direction||(n.rotation.z=Math.PI),this.mesh.add(n),n}),this.speed=m[Math.floor(Math.random()*m.length)];break}case"truck":{this.mesh=new L,this.direction=Math.random()>=.5;let r=new Set;this.vechicles=[1,2].map(()=>{let n=new k,o;do o=Math.floor(Math.random()*S/3);while(r.has(o));return r.add(o),n.position.x=(o*d*3+d/2)*2-p*2/2,this.direction||(n.rotation.z=Math.PI),this.mesh.add(n),n}),this.speed=m[Math.floor(Math.random()*m.length)];break}}}c(ne,"Lane");export{lo as addLane,Me as generateLanes,co as generateMap,wo as initaliseValues};
